#!/usr/bin/env bash

# Script for bringing together the results generated by the analyze
# script.
#
# Mathieu Bernard

#########VARIABLES###########################
RESFOLDER=${1:-./results}
#########

HEADER="algo token_f-score token_precision token_recall \
        boundary_f-score boundary_precision boundary_recall"
HEADER=`echo $HEADER | tr -s ' ' | tr ' ' '\t'`
echo $HEADER > $RESFOLDER/results.txt

for ALGO in `find $RESFOLDER -name '*cfgold-res.txt' | sort`
do
    # bring together the results
    ADIR=`dirname $ALGO`
    ANAME=`basename $ADIR`
    LINE=`grep '[0-9]' $ALGO`
    echo $ANAME $LINE |
        tr -s ' ' | tr ' ' '\t' >> $RESFOLDER/results.txt
done
